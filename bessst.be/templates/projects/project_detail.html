{% extends "base.html" %}
{% load markup %}

{% block title %}Projecten{% endblock %}

{% block header %}
    <h1>{{ object.title }}</h1>
{% endblock header%}

{% block content %}
<section id="main" class="big box">
<!--<div style="float:left;clear:left;height:21px;width:0px"></div><div style="float:right;clear:right;height:21px;width:0px"></div>-->
<!--<div style="float:left;clear:left;height:21px;width:0px"></div><div style="float:right;clear:right;height:21px;width:0px"></div>-->
<!--<div style="float:left;clear:left;height:21px;width:0px"></div><div style="float:right;clear:right;height:21px;width:0px"></div>-->
<!--<div style="float:left;clear:left;height:21px;width:0px"></div><div style="float:right;clear:right;height:21px;width:0px"></div>-->
<!--<div style="float:left;clear:left;height:21px;width:0px"></div><div style="float:right;clear:right;height:21px;width:0px"></div>
<div style="float:left;clear:left;height:21px;width:0px"></div><div style="float:right;clear:right;height:21px;width:0px"></div><div style="float:left;clear:left;height:21px;width:0px"></div><div style="float:right;clear:right;height:21px;width:0px"></div><div style="float:left;clear:left;height:21px;width:0px"></div><div style="float:right;clear:right;height:21px;width:0px"></div><div style="float:left;clear:left;height:21px;width:0px"></div><div style="float:right;clear:right;height:21px;width:0px"></div><div style="float:left;clear:left;height:21px;width:0px"></div><div style="float:right;clear:right;height:21px;width:0px"></div><div style="float:left;clear:left;height:21px;width:0px"></div><div style="float:right;clear:right;height:21px;width:0px"></div><div style="float:left;clear:left;height:21px;width:0px"></div><div style="float:right;clear:right;height:21px;width:0px"></div><div style="float:left;clear:left;height:21px;width:0px"></div><div style="float:right;clear:right;height:21px;width:0px"></div><div style="float:left;clear:left;height:21px;width:0px"></div><div style="float:right;clear:right;height:21px;width:0px"></div><div style="float:left;clear:left;height:21px;width:0px"></div><div style="float:right;clear:right;height:21px;width:0px"></div><div style="float:left;clear:left;he
    ight:21px;width:0px"></div><div style="float:right;clear:right;height:21px;width:0px"></div>
<div style="float:left;clear:left;height:21px;width:17px"></div><div style="float:right;clear:right;height:21px;width:18px"></div>
<div style="float:left;clear:left;height:21px;width:40px"></div><div style="float:right;clear:right;height:21px;width:42px"></div>
<div style="float:left;clear:left;height:21px;width:64px"></div><div style="float:right;clear:right;height:21px;width:67px"></div><div style="float:left;clear:left;height:21px;width:87px"></div><div style="float:right;clear:right;height:21px;width:91px"></div><div style="float:left;clear:left;height:21px;width:111px"></div><div style="float:right;clear:right;height:21px;width:115px"></div><div style="float:left;clear:left;height:21px;width:134px"></div><div style="float:right;clear:right;height:21px;width:139px"></div><div style="float:left;clear:left;height:21px;width:157px"></div><div style="float:right;clear:right;height:21px;width:163px"></div><div style="float:left;clear:left;height:21px;width:181px"></div><div style="float:right;clear:right;height:21px;width:188px"></div><div style="float:left;clear:left;height:21px;width:204px"></div><div style="float:right;clear:right;height:21px;width:212px"></div><div style="float:left;clear:left;height:21px;width:228px"></div><div style="float:right;clear:right;height:21px;width:236px"></div><div style="float:left;clear:left;height:21px;width:0px"></div><div style="float:right;clear:right;height:21px;width:0px"></div>-->
    <div class="tail">{{ object.summary|markdown }}</div>

    <div class="columns">
        {{ object.description|markdown }}
    </div>

</section>
<section id="right">
    <dl id="metadata" class="box">
        <dt>Authors</dt>
        <dd>
            <ul>{% for p in object.authors.all %}<li>{{ p }}</li>{% endfor %}</ul>
        </dd>
        <dt>Producers</dt>
        <dd>
            <ul>{% for p in object.producers.all %}<li>{{ p }}</li>{% endfor %}</ul>
        </dd>
        <dt>Location</dt>
        <dd>{{ object.location }}</dd>
        <dt>Axis</dt> 
        <dd>{{ object.axis }}</dd>
    </dl>
</section>

<script>
    (function($)
    {
        $.fn.tailing=function()
        {
            return this.each(function(){
                height = $(this).height();
                width = $(this).width();
                lineheight = parseInt($(this).css("line-height"));
                lines = height/lineheight;
                step = 20;
                tail_lines = (width/2)/step;
                keep_lines = lines - tail_lines + 8
                // console.log($(this))
                // console.log("height = " + height)
                // console.log("width = " + width)
                // console.log("lineheight = " + lineheight)
                // console.log("lines = " + lines)
                // console.log("tail_lines = " + tail_lines)
                wraps = "<div style='clear: left; float: left; width: 0px; height: " + keep_lines * lineheight + "px'></div> <div style='clear: right; float: right; width: 0px; height: " + keep_lines * lineheight + "px'></div>";
                for (i=step; i<width/2; i+=step) {
                    wraps += "<div style='clear: left; float: left; width:"+ i +"px; height: " + lineheight + "px'></div> <div style='clear: right; float: right; width:"+ i +"px; height: " + lineheight + "px'></div>";
                }
                    $(this).prepend(wraps);
                    $(this).append("<div style='clear: both;'></div>");
            });
        };
    })(jQuery);

    $(window).load(function(){
        $(".tail").tailing();
    });
</script>
{% endblock %}
